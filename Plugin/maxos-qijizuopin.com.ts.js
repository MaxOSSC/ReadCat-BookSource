plugin.exports=class a{static ID="qJWg2IC7FdFHFL6KRPwZG";static TYPE=plugin.type.BOOK_SOURCE;static GROUP="👻MaxOS";static NAME="奇迹小说";static VERSION="1.0.0";static VERSION_CODE=0;static PLUGIN_FILE_URL="https://raw.kkgithub.com/MaxOSSC/ReadCat-BookSource/main/Plugin/maxos-qijizuopin.com.ts.js";static BASE_URL="https://www.qijizuopin.com";static REQUIRE={};request;store;cheerio;nanoid;constructor(t){var{request:t,store:e,cheerio:i,nanoid:r}=t;this.request=t,this.store=e,this.cheerio=i,this.nanoid=r}async search(t){var e,t=(await this.request.get(a.BASE_URL+"/so/"+t))["body"],i=this.cheerio(t),t=i("main.flex > div"),r=(console.log(t.length),[]);for(e of t){var s=i(e).find("div:nth-child(1)"),o=i(e).find("div:nth-child(1) p");r.push({bookname:s.children("h3").text(),author:s.children("span").text().substring(3),coverImageUrl:s.children("img").attr("src"),detailPageUrl:a.BASE_URL+s.children("a").attr("href"),latestChapterTitle:o.children("a").text().substring(5)})}return r}async getDetail(t){var e,t=(await this.request.get(t))["body"],i=this.cheerio(t),t=i("h1").text(),r=i("span.text-sm.text-primarySix").text().substring(3),a=i("p.mb-7 > a").text(),s=i("biv.book-cover img").attr("src"),o=i("p.mb-20").text(),n=[];for(e of i("div.flex.flex-row.flex-wrap > a"))n.push({title:i(e).text(),url:i(e).attr("href")});return{bookname:t,author:r,latestChapterTitle:a,coverImageUrl:s,intro:o,chapterList:n}}async getTextContent(t){t=(await this.request.get(t.url)).body;let i=this.cheerio(t);return i(".content > p").map((t,e)=>i(e).text().trim()).get()}};