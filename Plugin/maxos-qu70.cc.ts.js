plugin.exports=class a{static ID="HTtL-0RrPySCE0oMkqrDj";static TYPE=plugin.type.BOOK_SOURCE;static GROUP="👻MaxOS";static NAME="笔趣阁";static VERSION="1.0.0";static VERSION_CODE=2;static PLUGIN_FILE_URL="https://raw.kkgithub.com/MaxOSSC/ReadCat-BookSource/main/Plugin/maxos-qu70.cc.ts.js";static BASE_URL="https://www.qu70.cc";static REQUIRE={};request;store;cheerio;nanoid;constructor(t){var{request:t,store:e,cheerio:i,nanoid:r}=t;this.request=t,this.store=e,this.cheerio=i,this.nanoid=r}async search(t){t=(await this.request.get(a.BASE_URL+"/user/search.html?q="+t)).body,t=JSON.parse(t);if(isUndefined(t)||!isArray(t))return[];var e=[];for(const i of t)e.push({bookname:i.articlename,author:i.author,coverImageUrl:i.url_img,detailPageUrl:a.BASE_URL+i.url_list,latestChapterTitle:i.intro});return e}async getDetail(t){t=(await this.request.get(t)).body;const e=this.cheerio(t);var t=e("div.info > h1:nth-child(2)").text(),i=e("div.small > span:nth-child(1)").text().substring(3),r=e("div.cover > img").attr("src"),s=e("span.last:nth-child(4) > a").text(),n=e("div.intro > dl > dd:nth-child(2)").text();const c=[];return e("div.listmain dl dd").each(function(t){10!==t&&e(this).find("a").each(function(){c.push({title:e(this).text(),url:a.BASE_URL+e(this).attr("href")})})}),{bookname:t,author:i,coverImageUrl:r,latestChapterTitle:s,intro:n,chapterList:c}}async getTextContent(t){t=(await this.request.get(t.url)).body,t=this.cheerio(t);return t("#chaptercontent p").remove(),t("#chaptercontent").html().split("<br>").filter(t=>!t.includes("请收藏本站"))}};